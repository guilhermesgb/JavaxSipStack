//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: ./src/android/gov/nist/javax/sip/stack/Base64Coder.java
//

#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "android/gov/nist/javax/sip/stack/Base64Coder.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Math.h"
#include "java/lang/StringBuilder.h"
#include "java/lang/System.h"

@interface AndroidGovNistJavaxSipStackBase64Coder ()

- (instancetype)init;

@end

inline NSString *AndroidGovNistJavaxSipStackBase64Coder_get_systemLineSeparator();
static NSString *AndroidGovNistJavaxSipStackBase64Coder_systemLineSeparator;
J2OBJC_STATIC_FIELD_OBJ_FINAL(AndroidGovNistJavaxSipStackBase64Coder, systemLineSeparator, NSString *)

inline IOSCharArray *AndroidGovNistJavaxSipStackBase64Coder_get_map1();
static IOSCharArray *AndroidGovNistJavaxSipStackBase64Coder_map1;
J2OBJC_STATIC_FIELD_OBJ_FINAL(AndroidGovNistJavaxSipStackBase64Coder, map1, IOSCharArray *)

inline IOSByteArray *AndroidGovNistJavaxSipStackBase64Coder_get_map2();
static IOSByteArray *AndroidGovNistJavaxSipStackBase64Coder_map2;
J2OBJC_STATIC_FIELD_OBJ_FINAL(AndroidGovNistJavaxSipStackBase64Coder, map2, IOSByteArray *)

__attribute__((unused)) static void AndroidGovNistJavaxSipStackBase64Coder_init(AndroidGovNistJavaxSipStackBase64Coder *self);

__attribute__((unused)) static AndroidGovNistJavaxSipStackBase64Coder *new_AndroidGovNistJavaxSipStackBase64Coder_init() NS_RETURNS_RETAINED;

__attribute__((unused)) static AndroidGovNistJavaxSipStackBase64Coder *create_AndroidGovNistJavaxSipStackBase64Coder_init();

J2OBJC_INITIALIZED_DEFN(AndroidGovNistJavaxSipStackBase64Coder)

@implementation AndroidGovNistJavaxSipStackBase64Coder

+ (NSString *)encodeStringWithNSString:(NSString *)s {
  return AndroidGovNistJavaxSipStackBase64Coder_encodeStringWithNSString_(s);
}

+ (NSString *)encodeLinesWithByteArray:(IOSByteArray *)inArg {
  return AndroidGovNistJavaxSipStackBase64Coder_encodeLinesWithByteArray_(inArg);
}

+ (NSString *)encodeLinesWithByteArray:(IOSByteArray *)inArg
                               withInt:(jint)iOff
                               withInt:(jint)iLen
                               withInt:(jint)lineLen
                          withNSString:(NSString *)lineSeparator {
  return AndroidGovNistJavaxSipStackBase64Coder_encodeLinesWithByteArray_withInt_withInt_withInt_withNSString_(inArg, iOff, iLen, lineLen, lineSeparator);
}

+ (IOSCharArray *)encodeWithByteArray:(IOSByteArray *)inArg {
  return AndroidGovNistJavaxSipStackBase64Coder_encodeWithByteArray_(inArg);
}

+ (IOSCharArray *)encodeWithByteArray:(IOSByteArray *)inArg
                              withInt:(jint)iLen {
  return AndroidGovNistJavaxSipStackBase64Coder_encodeWithByteArray_withInt_(inArg, iLen);
}

+ (IOSCharArray *)encodeWithByteArray:(IOSByteArray *)inArg
                              withInt:(jint)iOff
                              withInt:(jint)iLen {
  return AndroidGovNistJavaxSipStackBase64Coder_encodeWithByteArray_withInt_withInt_(inArg, iOff, iLen);
}

+ (NSString *)decodeStringWithNSString:(NSString *)s {
  return AndroidGovNistJavaxSipStackBase64Coder_decodeStringWithNSString_(s);
}

+ (IOSByteArray *)decodeLinesWithNSString:(NSString *)s {
  return AndroidGovNistJavaxSipStackBase64Coder_decodeLinesWithNSString_(s);
}

+ (IOSByteArray *)decodeWithNSString:(NSString *)s {
  return AndroidGovNistJavaxSipStackBase64Coder_decodeWithNSString_(s);
}

+ (IOSByteArray *)decodeWithCharArray:(IOSCharArray *)inArg {
  return AndroidGovNistJavaxSipStackBase64Coder_decodeWithCharArray_(inArg);
}

+ (IOSByteArray *)decodeWithCharArray:(IOSCharArray *)inArg
                              withInt:(jint)iOff
                              withInt:(jint)iLen {
  return AndroidGovNistJavaxSipStackBase64Coder_decodeWithCharArray_withInt_withInt_(inArg, iOff, iLen);
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  AndroidGovNistJavaxSipStackBase64Coder_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "LNSString;", 0x9, 0, 1, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x9, 2, 3, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x9, 2, 4, -1, -1, -1, -1 },
    { NULL, "[C", 0x9, 5, 3, -1, -1, -1, -1 },
    { NULL, "[C", 0x9, 5, 6, -1, -1, -1, -1 },
    { NULL, "[C", 0x9, 5, 7, -1, -1, -1, -1 },
    { NULL, "LNSString;", 0x9, 8, 1, -1, -1, -1, -1 },
    { NULL, "[B", 0x9, 9, 1, -1, -1, -1, -1 },
    { NULL, "[B", 0x9, 10, 1, -1, -1, -1, -1 },
    { NULL, "[B", 0x9, 10, 11, -1, -1, -1, -1 },
    { NULL, "[B", 0x9, 10, 12, -1, -1, -1, -1 },
    { NULL, NULL, 0x2, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(encodeStringWithNSString:);
  methods[1].selector = @selector(encodeLinesWithByteArray:);
  methods[2].selector = @selector(encodeLinesWithByteArray:withInt:withInt:withInt:withNSString:);
  methods[3].selector = @selector(encodeWithByteArray:);
  methods[4].selector = @selector(encodeWithByteArray:withInt:);
  methods[5].selector = @selector(encodeWithByteArray:withInt:withInt:);
  methods[6].selector = @selector(decodeStringWithNSString:);
  methods[7].selector = @selector(decodeLinesWithNSString:);
  methods[8].selector = @selector(decodeWithNSString:);
  methods[9].selector = @selector(decodeWithCharArray:);
  methods[10].selector = @selector(decodeWithCharArray:withInt:withInt:);
  methods[11].selector = @selector(init);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "systemLineSeparator", "LNSString;", .constantValue.asLong = 0, 0x1a, -1, 13, -1, -1 },
    { "map1", "[C", .constantValue.asLong = 0, 0x1a, -1, 14, -1, -1 },
    { "map2", "[B", .constantValue.asLong = 0, 0x1a, -1, 15, -1, -1 },
  };
  static const void *ptrTable[] = { "encodeString", "LNSString;", "encodeLines", "[B", "[BIIILNSString;", "encode", "[BI", "[BII", "decodeString", "decodeLines", "decode", "[C", "[CII", &AndroidGovNistJavaxSipStackBase64Coder_systemLineSeparator, &AndroidGovNistJavaxSipStackBase64Coder_map1, &AndroidGovNistJavaxSipStackBase64Coder_map2 };
  static const J2ObjcClassInfo _AndroidGovNistJavaxSipStackBase64Coder = { "Base64Coder", "android.gov.nist.javax.sip.stack", ptrTable, methods, fields, 7, 0x1, 12, 3, -1, -1, -1, -1, -1 };
  return &_AndroidGovNistJavaxSipStackBase64Coder;
}

+ (void)initialize {
  if (self == [AndroidGovNistJavaxSipStackBase64Coder class]) {
    JreStrongAssign(&AndroidGovNistJavaxSipStackBase64Coder_systemLineSeparator, JavaLangSystem_getPropertyWithNSString_(@"line.separator"));
    JreStrongAssignAndConsume(&AndroidGovNistJavaxSipStackBase64Coder_map1, [IOSCharArray newArrayWithLength:64]);
    {
      jint i = 0;
      for (jchar c = 'A'; c <= 'Z'; c++) *IOSCharArray_GetRef(AndroidGovNistJavaxSipStackBase64Coder_map1, i++) = c;
      for (jchar c = 'a'; c <= 'z'; c++) *IOSCharArray_GetRef(AndroidGovNistJavaxSipStackBase64Coder_map1, i++) = c;
      for (jchar c = '0'; c <= '9'; c++) *IOSCharArray_GetRef(AndroidGovNistJavaxSipStackBase64Coder_map1, i++) = c;
      *IOSCharArray_GetRef(AndroidGovNistJavaxSipStackBase64Coder_map1, i++) = '+';
      *IOSCharArray_GetRef(AndroidGovNistJavaxSipStackBase64Coder_map1, i++) = '/';
    }
    JreStrongAssignAndConsume(&AndroidGovNistJavaxSipStackBase64Coder_map2, [IOSByteArray newArrayWithLength:128]);
    {
      for (jint i = 0; i < AndroidGovNistJavaxSipStackBase64Coder_map2->size_; i++) *IOSByteArray_GetRef(AndroidGovNistJavaxSipStackBase64Coder_map2, i) = -1;
      for (jint i = 0; i < 64; i++) *IOSByteArray_GetRef(AndroidGovNistJavaxSipStackBase64Coder_map2, IOSCharArray_Get(AndroidGovNistJavaxSipStackBase64Coder_map1, i)) = (jbyte) i;
    }
    J2OBJC_SET_INITIALIZED(AndroidGovNistJavaxSipStackBase64Coder)
  }
}

@end

NSString *AndroidGovNistJavaxSipStackBase64Coder_encodeStringWithNSString_(NSString *s) {
  AndroidGovNistJavaxSipStackBase64Coder_initialize();
  return [NSString java_stringWithCharacters:AndroidGovNistJavaxSipStackBase64Coder_encodeWithByteArray_([((NSString *) nil_chk(s)) java_getBytes])];
}

NSString *AndroidGovNistJavaxSipStackBase64Coder_encodeLinesWithByteArray_(IOSByteArray *inArg) {
  AndroidGovNistJavaxSipStackBase64Coder_initialize();
  return AndroidGovNistJavaxSipStackBase64Coder_encodeLinesWithByteArray_withInt_withInt_withInt_withNSString_(inArg, 0, ((IOSByteArray *) nil_chk(inArg))->size_, 76, AndroidGovNistJavaxSipStackBase64Coder_systemLineSeparator);
}

NSString *AndroidGovNistJavaxSipStackBase64Coder_encodeLinesWithByteArray_withInt_withInt_withInt_withNSString_(IOSByteArray *inArg, jint iOff, jint iLen, jint lineLen, NSString *lineSeparator) {
  AndroidGovNistJavaxSipStackBase64Coder_initialize();
  jint blockLen = (lineLen * 3) / 4;
  if (blockLen <= 0) @throw create_JavaLangIllegalArgumentException_init();
  jint lines = (iLen + blockLen - 1) / blockLen;
  jint bufLen = ((iLen + 2) / 3) * 4 + lines * ((jint) [((NSString *) nil_chk(lineSeparator)) length]);
  JavaLangStringBuilder *buf = create_JavaLangStringBuilder_initWithInt_(bufLen);
  jint ip = 0;
  while (ip < iLen) {
    jint l = JavaLangMath_minWithInt_withInt_(iLen - ip, blockLen);
    [buf appendWithCharArray:AndroidGovNistJavaxSipStackBase64Coder_encodeWithByteArray_withInt_withInt_(inArg, iOff + ip, l)];
    [buf appendWithNSString:lineSeparator];
    ip += l;
  }
  return [buf description];
}

IOSCharArray *AndroidGovNistJavaxSipStackBase64Coder_encodeWithByteArray_(IOSByteArray *inArg) {
  AndroidGovNistJavaxSipStackBase64Coder_initialize();
  return AndroidGovNistJavaxSipStackBase64Coder_encodeWithByteArray_withInt_withInt_(inArg, 0, ((IOSByteArray *) nil_chk(inArg))->size_);
}

IOSCharArray *AndroidGovNistJavaxSipStackBase64Coder_encodeWithByteArray_withInt_(IOSByteArray *inArg, jint iLen) {
  AndroidGovNistJavaxSipStackBase64Coder_initialize();
  return AndroidGovNistJavaxSipStackBase64Coder_encodeWithByteArray_withInt_withInt_(inArg, 0, iLen);
}

IOSCharArray *AndroidGovNistJavaxSipStackBase64Coder_encodeWithByteArray_withInt_withInt_(IOSByteArray *inArg, jint iOff, jint iLen) {
  AndroidGovNistJavaxSipStackBase64Coder_initialize();
  jint oDataLen = (iLen * 4 + 2) / 3;
  jint oLen = ((iLen + 2) / 3) * 4;
  IOSCharArray *out = [IOSCharArray arrayWithLength:oLen];
  jint ip = iOff;
  jint iEnd = iOff + iLen;
  jint op = 0;
  while (ip < iEnd) {
    jint i0 = IOSByteArray_Get(nil_chk(inArg), ip++) & (jint) 0xff;
    jint i1 = ip < iEnd ? IOSByteArray_Get(inArg, ip++) & (jint) 0xff : 0;
    jint i2 = ip < iEnd ? IOSByteArray_Get(inArg, ip++) & (jint) 0xff : 0;
    jint o0 = JreURShift32(i0, 2);
    jint o1 = (JreLShift32((i0 & 3), 4)) | (JreURShift32(i1, 4));
    jint o2 = (JreLShift32((i1 & (jint) 0xf), 2)) | (JreURShift32(i2, 6));
    jint o3 = i2 & (jint) 0x3F;
    *IOSCharArray_GetRef(out, op++) = IOSCharArray_Get(nil_chk(AndroidGovNistJavaxSipStackBase64Coder_map1), o0);
    *IOSCharArray_GetRef(out, op++) = IOSCharArray_Get(AndroidGovNistJavaxSipStackBase64Coder_map1, o1);
    *IOSCharArray_GetRef(out, op) = op < oDataLen ? IOSCharArray_Get(AndroidGovNistJavaxSipStackBase64Coder_map1, o2) : '=';
    op++;
    *IOSCharArray_GetRef(out, op) = op < oDataLen ? IOSCharArray_Get(AndroidGovNistJavaxSipStackBase64Coder_map1, o3) : '=';
    op++;
  }
  return out;
}

NSString *AndroidGovNistJavaxSipStackBase64Coder_decodeStringWithNSString_(NSString *s) {
  AndroidGovNistJavaxSipStackBase64Coder_initialize();
  return [NSString java_stringWithBytes:AndroidGovNistJavaxSipStackBase64Coder_decodeWithNSString_(s)];
}

IOSByteArray *AndroidGovNistJavaxSipStackBase64Coder_decodeLinesWithNSString_(NSString *s) {
  AndroidGovNistJavaxSipStackBase64Coder_initialize();
  IOSCharArray *buf = [IOSCharArray arrayWithLength:((jint) [((NSString *) nil_chk(s)) length])];
  jint p = 0;
  for (jint ip = 0; ip < ((jint) [s length]); ip++) {
    jchar c = [s charAtWithInt:ip];
    if (c != ' ' && c != 0x000d && c != 0x000a && c != 0x0009) *IOSCharArray_GetRef(buf, p++) = c;
  }
  return AndroidGovNistJavaxSipStackBase64Coder_decodeWithCharArray_withInt_withInt_(buf, 0, p);
}

IOSByteArray *AndroidGovNistJavaxSipStackBase64Coder_decodeWithNSString_(NSString *s) {
  AndroidGovNistJavaxSipStackBase64Coder_initialize();
  return AndroidGovNistJavaxSipStackBase64Coder_decodeWithCharArray_([((NSString *) nil_chk(s)) java_toCharArray]);
}

IOSByteArray *AndroidGovNistJavaxSipStackBase64Coder_decodeWithCharArray_(IOSCharArray *inArg) {
  AndroidGovNistJavaxSipStackBase64Coder_initialize();
  return AndroidGovNistJavaxSipStackBase64Coder_decodeWithCharArray_withInt_withInt_(inArg, 0, ((IOSCharArray *) nil_chk(inArg))->size_);
}

IOSByteArray *AndroidGovNistJavaxSipStackBase64Coder_decodeWithCharArray_withInt_withInt_(IOSCharArray *inArg, jint iOff, jint iLen) {
  AndroidGovNistJavaxSipStackBase64Coder_initialize();
  if (iLen % 4 != 0) @throw create_JavaLangIllegalArgumentException_initWithNSString_(@"Length of Base64 encoded input string is not a multiple of 4.");
  while (iLen > 0 && IOSCharArray_Get(nil_chk(inArg), iOff + iLen - 1) == '=') iLen--;
  jint oLen = (iLen * 3) / 4;
  IOSByteArray *out = [IOSByteArray arrayWithLength:oLen];
  jint ip = iOff;
  jint iEnd = iOff + iLen;
  jint op = 0;
  while (ip < iEnd) {
    jint i0 = IOSCharArray_Get(nil_chk(inArg), ip++);
    jint i1 = IOSCharArray_Get(inArg, ip++);
    jint i2 = ip < iEnd ? IOSCharArray_Get(inArg, ip++) : 'A';
    jint i3 = ip < iEnd ? IOSCharArray_Get(inArg, ip++) : 'A';
    if (i0 > 127 || i1 > 127 || i2 > 127 || i3 > 127) @throw create_JavaLangIllegalArgumentException_initWithNSString_(@"Illegal character in Base64 encoded data.");
    jint b0 = IOSByteArray_Get(nil_chk(AndroidGovNistJavaxSipStackBase64Coder_map2), i0);
    jint b1 = IOSByteArray_Get(AndroidGovNistJavaxSipStackBase64Coder_map2, i1);
    jint b2 = IOSByteArray_Get(AndroidGovNistJavaxSipStackBase64Coder_map2, i2);
    jint b3 = IOSByteArray_Get(AndroidGovNistJavaxSipStackBase64Coder_map2, i3);
    if (b0 < 0 || b1 < 0 || b2 < 0 || b3 < 0) @throw create_JavaLangIllegalArgumentException_initWithNSString_(@"Illegal character in Base64 encoded data.");
    jint o0 = (JreLShift32(b0, 2)) | (JreURShift32(b1, 4));
    jint o1 = (JreLShift32((b1 & (jint) 0xf), 4)) | (JreURShift32(b2, 2));
    jint o2 = (JreLShift32((b2 & 3), 6)) | b3;
    *IOSByteArray_GetRef(out, op++) = (jbyte) o0;
    if (op < oLen) *IOSByteArray_GetRef(out, op++) = (jbyte) o1;
    if (op < oLen) *IOSByteArray_GetRef(out, op++) = (jbyte) o2;
  }
  return out;
}

void AndroidGovNistJavaxSipStackBase64Coder_init(AndroidGovNistJavaxSipStackBase64Coder *self) {
  NSObject_init(self);
}

AndroidGovNistJavaxSipStackBase64Coder *new_AndroidGovNistJavaxSipStackBase64Coder_init() {
  J2OBJC_NEW_IMPL(AndroidGovNistJavaxSipStackBase64Coder, init)
}

AndroidGovNistJavaxSipStackBase64Coder *create_AndroidGovNistJavaxSipStackBase64Coder_init() {
  J2OBJC_CREATE_IMPL(AndroidGovNistJavaxSipStackBase64Coder, init)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(AndroidGovNistJavaxSipStackBase64Coder)
